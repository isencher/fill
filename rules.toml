# AI自主决策边界配置

[autonomy]
# 信任分数阈值
auto_threshold = 0.95
notify_threshold = 0.80
review_threshold = 0.50

# 批量决策配置
[batching]
max_queue_size = 10           # 队列达到此数量触发人类
max_wait_minutes = 1440       # 或等待此分钟数（24小时）
priority_keywords = ["security", "core", "api"]  # 包含这些词立即触发

# 操作类型定义
[operations.add_function]
autonomy_level = "auto"        # auto | notify | review | manual
test_required = true
rollback_enabled = true

[operations.refactor_module]
autonomy_level = "notify"
test_required = true
rollback_enabled = true
human_review_after = true

[operations.modify_core_logic]
autonomy_level = "manual"
test_required = true
rollback_enabled = true
require_explicit_approval = true

[operations.fix_bug]
autonomy_level = "review"
test_required = true
rollback_enabled = true

[operations.add_dependency]
autonomy_level = "review"
security_scan = true
license_check = true

[operations.update_documentation]
autonomy_level = "auto"
test_required = false

# 文件路径匹配规则
[path_rules]
"src/core/**" = { override_level = "manual" }
"tests/**" = { override_level = "auto" }
"docs/**" = { override_level = "auto" }
"*.md" = { override_level = "auto" }

# 回滚策略
[rollback]
auto_rollback = true
rollback_triggers = [
    "test_failure",
    "security_alert",
    "performance_regression",
]
max_rollback_attempts = 3
